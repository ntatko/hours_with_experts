<style>
  .trail { /* className for the trail elements */
    position: absolute;
    height: 20px; width: 20px;
    border-radius: 10px;
    opacity: 1;
  }
  body {
    height: 300px;
  }
</style>

<script>
  let someArbitraryNumber = Math.round(10+Math.random()*20)

  function getRandomColor() {
    var letters = '0123456789ABCDEF';
    var color = '#';
    for (var i = 0; i < 6; i++) {
      color += letters[Math.floor(Math.random() * 16)];
    }
    return color;
  }

  window.addEventListener("mousemove", event => {
    let now = document.createElement("div")
    now.className = 'trail'
    now.style.left = (event.pageX + 2) + "px"
    now.style.top = (event.pageY + 2) + "px"
    now.style.backgroundColor = getRandomColor()
    now.style.opacity = 1
    document.body.appendChild(now)
    for (let i = 0; i < document.getElementsByTagName("div").length; i++) {
      document.getElementsByTagName("div")[i].style.opacity = parseFloat(document.getElementsByTagName("div")[i].style.opacity) - 1/someArbitraryNumber
    }
    while (document.getElementsByTagName("div").length > someArbitraryNumber) {
      document.getElementsByTagName("div")[0].remove()
    }
  })
</script>
